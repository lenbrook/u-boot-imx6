/*
 * Copyright (C) 2011 Freescale Semiconductor, Inc.
 * Jason Liu <r64343@freescale.com>
 *
 * SPDX-License-Identifier:	GPL-2.0+
 *
 * Refer doc/README.imximage for more details about how-to configure
 * and create imximage boot image
 *
 * The syntax is taken as close as possible with the kwbimage
 */

/* image version */
IMAGE_VERSION 2

/*
 * Boot Device : one of
 * spi, sd (the board has no nand neither onenand)
 */
BOOT_FROM      sd

/*
 * Device Configuration Data (DCD)
 *
 * Each entry must have the format:
 * Addr-type           Address        Value
 *
 * where:
 *      Addr-type register length (1,2 or 4 bytes)
 *      Address   absolute address of the register
 *      value     value to be stored in the register
 */
 
#define __ASSEMBLY__
#include <config.h>
#include "asm/arch/mx6-ddr.h"
#include "asm/arch/iomux.h"
#include "asm/arch/crm_regs.h"


DATA 4, 0x020c4068, 0xffffffff
DATA 4, 0x020c406c, 0xffffffff
DATA 4, 0x020c4070, 0xffffffff
DATA 4, 0x020c4074, 0xffffffff
DATA 4, 0x020c4078, 0xffffffff
DATA 4, 0x020c407c, 0xffffffff
DATA 4, 0x020c4080, 0xffffffff
DATA 4, 0x020c4084, 0xffffffff

DATA 4, 0x020e0798, 0x000C0000
DATA 4, 0x020e0758, 0x00000000

DATA 4, 0x020e0588, 0x00000028
DATA 4, 0x020e0594, 0x00000028

DATA 4, 0x020e056c, 0x00000028
DATA 4, 0x020e0578, 0x00000028
DATA 4, 0x020e074c, 0x00000030

DATA 4, 0x020e057c, 0x00000028
DATA 4, 0x020e058c, 0x00000000
DATA 4, 0x020e059c, 0x00000028
DATA 4, 0x020e05a0, 0x00000028
DATA 4, 0x020e078c, 0x00000028

DATA 4, 0x020e0750, 0x00020000
DATA 4, 0x020e05a8, 0x00000028
DATA 4, 0x020e05b0, 0x00000028
DATA 4, 0x020e0524, 0x00000028
DATA 4, 0x020e051c, 0x00000028
DATA 4, 0x020e0518, 0x00000028
DATA 4, 0x020e050c, 0x00000028
DATA 4, 0x020e05b8, 0x00000028
DATA 4, 0x020e05c0, 0x00000028

DATA 4, 0x020e0774, 0x00020000
DATA 4, 0x020e0784, 0x00000028
DATA 4, 0x020e0788, 0x00000028
DATA 4, 0x020e0794, 0x00000028
DATA 4, 0x020e079c, 0x00000028
DATA 4, 0x020e07a0, 0x00000028
DATA 4, 0x020e07a4, 0x00000028
DATA 4, 0x020e07a8, 0x00000028
DATA 4, 0x020e0748, 0x00000028

DATA 4, 0x020e05ac, 0x00000028
DATA 4, 0x020e05b4, 0x00000028
DATA 4, 0x020e0528, 0x00000028
DATA 4, 0x020e0520, 0x00000028
DATA 4, 0x020e0514, 0x00000028
DATA 4, 0x020e0510, 0x00000028
DATA 4, 0x020e05bc, 0x00000028
DATA 4, 0x020e05c4, 0x00000028

// Calibration
DATA 4, 0x021b001c, 0x00008000
DATA 4, 0x021b0800, 0xA1390003

// Write Leveling Delay Calibration
DATA 4, MX6_MMDC_P0_MPWLDECTRL0, 0x000B000C
DATA 4, MX6_MMDC_P0_MPWLDECTRL1, 0x00210018
DATA 4, MX6_MMDC_P1_MPWLDECTRL0, 0x00150029
DATA 4, MX6_MMDC_P1_MPWLDECTRL1, 0x00030009

// Read DQS Gating Calibration
DATA 4, MX6_MMDC_P0_MPDGCTRL0, 0x43080310
DATA 4, MX6_MMDC_P0_MPDGCTRL1, 0x02580260
DATA 4, MX6_MMDC_P1_MPDGCTRL0, 0x43000300
DATA 4, MX6_MMDC_P1_MPDGCTRL1, 0x02680258

// Read Calibration
DATA 4, MX6_MMDC_P0_MPRDDLCTL, 0x40383C3E
DATA 4, MX6_MMDC_P1_MPRDDLCTL, 0x3A3C3A42

// Write Calibration
DATA 4, MX6_MMDC_P0_MPWRDLCTL, 0x3C3E3A38
DATA 4, MX6_MMDC_P1_MPWRDLCTL, 0x3E30423E

DATA 4, 0x021b081c, 0x33333333
DATA 4, 0x021b0820, 0x33333333
DATA 4, 0x021b0824, 0x33333333
DATA 4, 0x021b0828, 0x33333333
DATA 4, 0x021b481c, 0x33333333
DATA 4, 0x021b4820, 0x33333333
DATA 4, 0x021b4824, 0x33333333
DATA 4, 0x021b4828, 0x33333333

// Complete calibration by forced measurement:
DATA 4, MX6_MMDC_P0_MPMUR0, 0x00000800
DATA 4, MX6_MMDC_P1_MPMUR0, 0x00000800


DATA 4, 0x021b0004, 0x00020036
DATA 4, 0x021b0008, 0x09444040
DATA 4, 0x021b000c, 0x54597955
DATA 4, 0x021b0010, 0xFF328F64
DATA 4, 0x021b0014, 0x01FF00DB

DATA 4, 0x021b0018, 0x00011740
DATA 4, 0x021b001c, 0x00008000
DATA 4, 0x021b002c, 0x000026D2
DATA 4, 0x021b0030, 0x00591023
DATA 4, 0x021b0040, 0x00000027
DATA 4, 0x021b0000, 0x831A0000

DATA 4, 0x021b001c, 0x02088032
DATA 4, 0x021b001c, 0x00008033
DATA 4, 0x021b001c, 0x00048031
DATA 4, 0x021b001c, 0x19408030
DATA 4, 0x021b001c, 0x04008040

DATA 4, 0x021b001c, 0x0208803A
DATA 4, 0x021b001c, 0x0000803B
DATA 4, 0x021b001c, 0x00048039
DATA 4, 0x021b001c, 0x19408038
DATA 4, 0x021b001c, 0x04008048

DATA 4, 0x021b0020, 0x00007800

DATA 4, 0x021b0818, 0x00022227
DATA 4, 0x021b4818, 0x00022227

DATA 4, 0x021b0004, 0x00025576

DATA 4, 0x021b0404, 0x00011006

DATA 4, 0x021b001c, 0x00000000



